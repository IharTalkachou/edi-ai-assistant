from datetime import datetime

class Invoice:
    """
    –ö–ª–∞—Å—Å - —ç—Ç–æ —á–µ—Ä—Ç–µ–∂ –Ω–∞–∫–ª–∞–¥–Ω–æ–π.
    –û–Ω –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É –ª—é–±–æ–π –Ω–∞–∫–ª–∞–¥–Ω–æ–π
    –∏ —á—Ç–æ –æ–Ω–∞ —É–º–µ–µ—Ç –¥–µ–ª–∞—Ç—å.
    """

    # __init__ - —ç—Ç–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. –û–Ω –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, 
    # –∫–æ–≥–¥–∞ –º—ã —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –Ω–∞–∫–ª–∞–¥–Ω—É—é (–æ–±—ä–µ–∫—Ç).
    # self - —ç—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–º–æ–≥–æ —Å–µ–±—è (–Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç—Å—è).
    def __init__(self, invoice_id, sender, receiver, amount):
        # –ê—Ç—Ä–∏–±—É—Ç—ã (—Å–≤–æ–π—Å—Ç–≤–∞) –æ–±—ä–µ–∫—Ç–∞
        self.id = invoice_id
        self.sender = sender
        self.receiver = receiver
        self.amount = amount
        self.created_at = datetime.now()
        self.status = "created"  # –°—Ç–∞—Ç—É—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

    # –ú–µ—Ç–æ–¥ (—Ñ—É–Ω–∫—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞) - –¥–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —É–º–µ–µ—Ç —Å–æ–≤–µ—Ä—à–∞—Ç—å –Ω–∞–∫–ª–∞–¥–Ω–∞—è
    def display_info(self):
        """–í—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–∞–∫–ª–∞–¥–Ω–æ–π –≤ –∫–æ–Ω—Å–æ–ª—å"""
        print(f"üìÑ –ù–∞–∫–ª–∞–¥–Ω–∞—è ‚Ññ{self.id}")
        print(f"   –û—Ç: {self.sender} -> –ö–æ–º—É: {self.receiver}")
        print(f"   –°—É–º–º–∞: {self.amount} —Ä—É–±.")
        print(f"   –°—Ç–∞—Ç—É—Å: {self.status}")
        print("-" * 20)

    # –ï—â–µ –æ–¥–∏–Ω –º–µ—Ç–æ–¥ - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
    def sign_document(self):
        """–≠–º—É–ª—è—Ü–∏—è –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞"""
        if self.amount <= 0:
            print(f"‚ùå –û—à–∏–±–∫–∞: –ù–∞–∫–ª–∞–¥–Ω–∞—è ‚Ññ{self.id} –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–¥–ø–∏—Å–∞–Ω–∞ (—Å—É–º–º–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞).")
            self.status = "error_validation"
        else:
            self.status = "signed"
            print(f"‚úÖ –ù–∞–∫–ª–∞–¥–Ω–∞—è ‚Ññ{self.id} —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–ø–∏—Å–∞–Ω–∞.")

# --- –ë–ª–æ–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (—ç–º—É–ª—è—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã) ---

if __name__ == "__main__":
    # –ú—ã —Å–æ–∑–¥–∞–µ–º –û–ë–™–ï–ö–¢–´ (—ç–∫–∑–µ–º–ø–ª—è—Ä—ã) –∫–ª–∞—Å—Å–∞ Invoice
    # –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —ç—Ç–æ –¥–∞–Ω–Ω—ã–µ, –ø—Ä–∏—à–µ–¥—à–∏–µ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤
    inv1 = Invoice(invoice_id="INV-001", sender="–û–û–û –†–æ–º–∞—à–∫–∞", receiver="–ò–ü –ò–≤–∞–Ω–æ–≤", amount=5000)
    inv2 = Invoice(invoice_id="INV-002", sender="–ó–ê–û –í–µ–∫—Ç–æ—Ä", receiver="–ò–ü –ò–≤–∞–Ω–æ–≤", amount=-100) # –û—à–∏–±–æ—á–Ω–∞—è

    # –ü–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ –≤–Ω—É—Ç—Ä–∏
    print("--- –õ–æ–≥ —Å–∏—Å—Ç–µ–º—ã ---")
    inv1.display_info()
    inv2.display_info()

    # –ü–æ–ø—Ä–æ–±—É–µ–º –ø–æ–¥–ø–∏—Å–∞—Ç—å
    print("--- –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è ---")
    inv1.sign_document()
    inv2.sign_document()
    
    # –ü—Ä–æ–≤–µ—Ä–∏–º —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è
    print("\n--- –ò—Ç–æ–≥–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã ---")
    inv1.display_info()
    inv2.display_info()